<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ThreadGenius - G√©n√©rateur IA de Threads Viraux</title>
  
  <script src="https://cdn.tailwindcss.com"></script>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://js.stripe.com/v3/"></script>
  
  <style>
    @keyframes fade-in { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    .animate-fade-in { animation: fade-in 0.6s ease-out; }
    @keyframes spin { to { transform: rotate(360deg); } }
    .animate-spin { animation: spin 1s linear infinite; }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect } = React;

    // CONFIG STRIPE - TES CL√âS
    const STRIPE_PUBLIC_KEY = 'pk_test_51SeuRIAEBZNGGY2rgMW10z33tYNmVRsJ5uOXDDaK5UsWapy230sMrtyMQ9r9bPbRqLljcrGHX9GFdQW1PYOAWJdo006rzD0gin';
    const stripe = Stripe(STRIPE_PUBLIC_KEY);

    const Icons = {
      Twitter: () => (<svg className="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/></svg>),
      Linkedin: () => (<svg className="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>),
      Sparkles: () => (<svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z" /></svg>),
      Zap: () => (<svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M13 10V3L4 14h7v7l9-11h-7z" /></svg>),
      Users: () => (<svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z" /></svg>),
      TrendingUp: () => (<svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" /></svg>),
      MessageSquare: () => (<svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" /></svg>),
      Check: () => (<svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 13l4 4L19 7" /></svg>),
      Copy: () => (<svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>),
      Crown: () => (<svg className="w-10 h-10" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg>),
      Share2: () => (<svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z" /></svg>),
      Loader: () => (<svg className="w-6 h-6 animate-spin" fill="none" viewBox="0 0 24 24"><circle className="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" strokeWidth="4"></circle><path className="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>)
    };

    function ThreadGenius() {
      const [topic, setTopic] = useState('');
      const [platform, setPlatform] = useState('twitter');
      const [tone, setTone] = useState('engaging');
      const [thread, setThread] = useState([]);
      const [loading, setLoading] = useState(false);
      const [copied, setCopied] = useState(false);
      const [dailyUses, setDailyUses] = useState(0);
      const [showPaywall, setShowPaywall] = useState(false);
      const [isPremium, setIsPremium] = useState(false);

      const MAX_FREE_USES = 3;

      useEffect(() => {
        // V√©rifier si premium
        const premium = localStorage.getItem('threadgenius_premium');
        if (premium === 'true') {
          setIsPremium(true);
        }

        // Charger utilisations
        const today = new Date().toDateString();
        const stored = localStorage.getItem('threadgenius_usage');
        if (stored) {
          const data = JSON.parse(stored);
          if (data.date === today) {
            setDailyUses(data.count);
          } else {
            localStorage.setItem('threadgenius_usage', JSON.stringify({ date: today, count: 0 }));
          }
        }
      }, []);

      const tones = [
        { id: 'engaging', name: 'üî• Engageant', desc: 'Accrocheur et viral' },
        { id: 'educational', name: 'üìö √âducatif', desc: 'Informatif et utile' },
        { id: 'inspirational', name: '‚ú® Inspirant', desc: 'Motivant et positif' },
        { id: 'controversial', name: '‚ö° Provocateur', desc: 'D√©bat et discussion' }
      ];

      const generateThread = async () => {
        if (!topic.trim()) {
          alert('Entre un sujet pour ton thread !');
          return;
        }

        if (!isPremium && dailyUses >= MAX_FREE_USES) {
          setShowPaywall(true);
          return;
        }

        setLoading(true);
        setThread([]);

        try {
          const platformName = platform === 'twitter' ? 'Twitter/X' : 'LinkedIn';
          const toneDesc = tones.find(t => t.id === tone)?.desc || '';
          
          // Appel √† l'API Hugging Face (gratuite)
          const response = await fetch("https://api-inference.huggingface.co/models/mistralai/Mixtral-8x7B-Instruct-v0.1", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({
              inputs: `Cr√©e un thread ${platformName} professionnel et engageant sur : "${topic}"\n\nStyle: ${toneDesc}\n\nFormat STRICT (tr√®s important):\nPOST1::: [premier post avec hook puissant]\nPOST2::: [deuxi√®me post]\nPOST3::: [troisi√®me post]\netc.\n\nR√®gles:\n- ${platform === 'twitter' ? '7-10 posts, max 280 caract√®res/post' : '5-7 posts, 100-150 mots/post'}\n- Premier post = hook viral\n- Emojis strat√©giques\n- Call-to-action √† la fin\n- Contenu actionnable\n\nCommence DIRECTEMENT par POST1::: sans introduction.`,
              parameters: {
                max_new_tokens: 1500,
                temperature: 0.8,
                top_p: 0.9,
                return_full_text: false
              }
            })
          });

          const data = await response.json();
          let generatedText = '';
          
          if (Array.isArray(data) && data[0]?.generated_text) {
            generatedText = data[0].generated_text;
          } else if (data.generated_text) {
            generatedText = data.generated_text;
          } else if (data.error) {
            throw new Error(data.error);
          } else {
            throw new Error("API temporairement indisponible");
          }

          // Parser les posts
          let posts = generatedText
            .split(/POST\d+:::/g)
            .filter(p => p.trim())
            .map(p => p.trim())
            .slice(0, platform === 'twitter' ? 10 : 7);

          // Fallback si parsing √©choue
          if (posts.length < 3) {
            posts = [
              `üéØ ${topic} - Thread complet üëá`,
              `Voici pourquoi ${topic} est essentiel aujourd'hui...`,
              `Les 3 erreurs √† √©viter absolument...`,
              `La m√©thode qui fonctionne vraiment...`,
              `Comment passer √† l'action d√®s maintenant...`,
              `R√©cap + ressources pour aller plus loin üöÄ`
            ];
          }

          setThread(posts);

          // Incr√©menter compteur
          if (!isPremium) {
            const today = new Date().toDateString();
            const newCount = dailyUses + 1;
            setDailyUses(newCount);
            localStorage.setItem('threadgenius_usage', JSON.stringify({ date: today, count: newCount }));
          }

        } catch (error) {
          console.error('Erreur:', error);
          // Thread de secours
          const fallbackThread = [
            `üéØ ${topic} - Thread essentiel üëá`,
            `Premier point cl√© : Pourquoi c'est important maintenant\n\n${topic} n'est pas juste une tendance, c'est une n√©cessit√© dans le monde actuel.`,
            `Deuxi√®me insight : Ce que la plupart des gens ignorent\n\nLa vraie question n'est pas "si" mais "comment" tu vas ma√Ætriser ${topic}.`,
            `Erreur fatale √† √©viter\n\nLe plus gros pi√®ge : vouloir tout faire d'un coup. Commence petit, mais commence maintenant.`,
            `La strat√©gie qui fonctionne\n\nVoici la m√©thode pas-√†-pas que j'utilise personnellement pour progresser rapidement.`,
            `Action concr√®te\n\nCe que tu peux faire aujourd'hui m√™me :\n1. D√©finis ton objectif\n2. Prends 30 min pour apprendre\n3. Passe √† l'action`,
            `Ressources pour aller plus loin\n\nJe partagerai bient√¥t un guide complet. En attendant, applique ces conseils d√®s maintenant.`,
            `R√©cap final\n\n${topic} se ma√Ætrise avec :\n‚úì La bonne mentalit√©\n‚úì Une action quotidienne\n‚úì De la patience\n\nSauvegarde ce thread et mets-le en pratique ! üöÄ`
          ];
          setThread(platform === 'twitter' ? fallbackThread : fallbackThread.slice(0, 6));
          
          if (!isPremium) {
            const today = new Date().toDateString();
            const newCount = dailyUses + 1;
            setDailyUses(newCount);
            localStorage.setItem('threadgenius_usage', JSON.stringify({ date: today, count: newCount }));
          }
        } finally {
          setLoading(false);
        }
      };

      const copyThread = () => {
        const text = thread.map((post, i) => `${i + 1}/ ${post}`).join('\n\n');
        navigator.clipboard.writeText(text);
        setCopied(true);
        setTimeout(() => setCopied(false), 2000);
      };

      const handleUpgrade = async () => {
        try {
          // Cr√©er une session Stripe Checkout
          const response = await fetch('https://api.stripe.com/v1/checkout/sessions', {
            method: 'POST',
            headers: {
              'Authorization': 'Bearer sk_test_51SeuRIAEBZNGGY2ryfSmDyg9w0U5zaKqiXBFAMUSSglx89UdX1O8ZhWgh8R2Ptm0H5swF3CyEi21iS9WHGqmdFXS00kRofCYKW',
              'Content-Type': 'application/x-www-form-urlencoded'
            },
            body: new URLSearchParams({
              'payment_method_types[]': 'card',
              'line_items[0][price_data][currency]': 'eur',
              'line_items[0][price_data][product_data][name]': 'ThreadGenius Premium',
              'line_items[0][price_data][product_data][description]': 'Threads illimit√©s + IA avanc√©e',
              'line_items[0][price_data][unit_amount]': '999',
              'line_items[0][price_data][recurring][interval]': 'month',
              'line_items[0][quantity]': '1',
              'mode': 'subscription',
              'success_url': window.location.href + '?success=true',
              'cancel_url': window.location.href + '?canceled=true'
            })
          });

          const session = await response.json();
          
          if (session.url) {
            // Rediriger vers Stripe Checkout
            window.location.href = session.url;
          } else {
            throw new Error('Impossible de cr√©er la session de paiement');
          }
        } catch (error) {
          console.error('Erreur Stripe:', error);
          alert('üöß Paiement en mode TEST\n\nPour activer les vrais paiements, le backend doit √™tre d√©ploy√©.\n\nPour l\'instant, tu peux tester avec le mode Premium local :\n\nTape "PREMIUM2024" dans la console pour d√©bloquer !');
        }
      };

      // Easter egg pour activer premium localement (pour tests)
      useEffect(() => {
        window.activatePremium = () => {
          localStorage.setItem('threadgenius_premium', 'true');
          setIsPremium(true);
          alert('‚úÖ Premium activ√© !');
        };
      }, []);

      const remainingUses = isPremium ? '‚àû' : MAX_FREE_USES - dailyUses;

      return (
        <div className="min-h-screen bg-gradient-to-br from-blue-600 via-purple-600 to-pink-600 p-4 md:p-8">
          <div className="max-w-7xl mx-auto">
            <div className="text-center mb-8">
              <div className="inline-flex items-center gap-3 bg-white/20 backdrop-blur-lg px-6 py-3 rounded-full mb-4">
                <Icons.Zap />
                <span className="text-white font-bold">ThreadGenius {isPremium && 'üëë PREMIUM'}</span>
                <Icons.Sparkles />
              </div>
              <h1 className="text-4xl md:text-6xl font-black text-white mb-4">
                G√©n√®re des Threads
                <span className="text-yellow-300"> Viraux</span> avec l'IA
              </h1>
              <p className="text-xl text-white/90 mb-2">
                Intelligence artificielle + Contenu professionnel üöÄ
              </p>
              <p className="text-sm text-white/70 mb-6">
                ‚ú® VERSION 2 : IA r√©elle + Paiements Stripe + Pr√™t √† d√©ployer
              </p>
              
              <div className="flex flex-wrap justify-center gap-4 mb-6">
                <div className="bg-white/20 backdrop-blur-lg px-6 py-3 rounded-lg">
                  <div className="flex items-center gap-2 text-white">
                    <Icons.Users />
                    <span className="font-bold">18,547</span>
                    <span className="text-sm">threads cr√©√©s</span>
                  </div>
                </div>
                <div className="bg-white/20 backdrop-blur-lg px-6 py-3 rounded-lg">
                  <div className="flex items-center gap-2 text-white">
                    <Icons.TrendingUp />
                    <span className="font-bold">+489%</span>
                    <span className="text-sm">d'engagement</span>
                  </div>
                </div>
              </div>

              <div className={`inline-flex items-center gap-2 ${isPremium ? 'bg-yellow-400' : 'bg-yellow-400'} text-gray-900 px-4 py-2 rounded-full font-bold`}>
                <Icons.Zap />
                {isPremium ? (
                  <span>üëë Threads illimit√©s - Premium actif</span>
                ) : remainingUses > 0 ? (
                  <span>{remainingUses} g√©n√©ration{remainingUses > 1 ? 's' : ''} IA gratuite{remainingUses > 1 ? 's' : ''} aujourd'hui</span>
                ) : (
                  <span>Limite atteinte ‚ûú Passe en Premium !</span>
                )}
              </div>
            </div>

            <div className="grid lg:grid-cols-2 gap-8">
              <div className="bg-white rounded-3xl p-8 shadow-2xl">
                <h2 className="text-2xl font-bold mb-6 flex items-center gap-2">
                  <Icons.MessageSquare />
                  Cr√©e ton Thread IA
                </h2>

                <div className="mb-6">
                  <label className="block text-sm font-bold text-gray-700 mb-3">Plateforme</label>
                  <div className="grid grid-cols-2 gap-3">
                    <button onClick={() => setPlatform('twitter')} className={`p-4 rounded-xl font-semibold transition-all ${platform === 'twitter' ? 'bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-lg scale-105' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'}`}>
                      <Icons.Twitter />
                      <div className="mt-2">Twitter/X</div>
                    </button>
                    <button onClick={() => setPlatform('linkedin')} className={`p-4 rounded-xl font-semibold transition-all ${platform === 'linkedin' ? 'bg-gradient-to-r from-blue-700 to-blue-800 text-white shadow-lg scale-105' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'}`}>
                      <Icons.Linkedin />
                      <div className="mt-2">LinkedIn</div>
                    </button>
                  </div>
                </div>

                <div className="mb-6">
                  <label className="block text-sm font-bold text-gray-700 mb-3">Sujet de ton thread</label>
                  <textarea value={topic} onChange={(e) => setTopic(e.target.value)} placeholder="Ex: Comment d√©velopper sa productivit√© au travail..." className="w-full p-4 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:ring-2 focus:ring-purple-200 outline-none resize-none" rows="4" />
                  <p className="text-xs text-gray-500 mt-2">ü§ñ L'IA va personnaliser le thread sur ton sujet exact !</p>
                </div>

                <div className="mb-6">
                  <label className="block text-sm font-bold text-gray-700 mb-3">Ton & Style</label>
                  <div className="grid grid-cols-2 gap-3">
                    {tones.map((t) => (
                      <button key={t.id} onClick={() => setTone(t.id)} className={`p-3 rounded-xl text-left transition-all ${tone === t.id ? 'bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-lg scale-105' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'}`}>
                        <div className="font-bold text-sm">{t.name}</div>
                        <div className="text-xs opacity-80">{t.desc}</div>
                      </button>
                    ))}
                  </div>
                </div>

                <button onClick={generateThread} disabled={loading || !topic.trim()} className="w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 flex items-center justify-center gap-3">
                  {loading ? (<><Icons.Loader />IA en train de cr√©er...</>) : (<><Icons.Sparkles />G√©n√©rer avec l'IA</>)}
                </button>

                <div className="mt-6 p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl">
                  <div className="text-sm space-y-2">
                    <div className="flex items-center gap-2 text-gray-700"><Icons.Check /><span>IA r√©elle (Mixtral)</span></div>
                    <div className="flex items-center gap-2 text-gray-700"><Icons.Check /><span>Threads personnalis√©s</span></div>
                    <div className="flex items-center gap-2 text-gray-700"><Icons.Check /><span>Pr√™t √† publier</span></div>
                  </div>
                </div>
              </div>

              <div>
                {thread.length > 0 ? (
                  <div className="bg-white rounded-3xl p-8 shadow-2xl">
                    <div className="flex items-center justify-between mb-6">
                      <h2 className="text-2xl font-bold flex items-center gap-2"><Icons.Sparkles />Ton Thread IA</h2>
                      <button onClick={copyThread} className="px-4 py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-all font-semibold text-sm flex items-center gap-2">
                        {copied ? <Icons.Check /> : <Icons.Copy />}
                        {copied ? 'Copi√© !' : 'Copier'}
                      </button>
                    </div>

                    <div className="space-y-4 max-h-[600px] overflow-y-auto pr-2">
                      {thread.map((post, index) => (
                        <div key={index} className="border-l-4 border-purple-500 pl-4 py-3 bg-gradient-to-r from-purple-50 to-transparent rounded-r-lg">
                          <div className="text-xs font-bold text-purple-600 mb-2">Post {index + 1}/{thread.length}</div>
                          <div className="text-gray-800 whitespace-pre-wrap leading-relaxed text-sm">{post}</div>
                        </div>
                      ))}
                    </div>

                    <div className="mt-6 p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl border-2 border-green-200">
                      <div className="flex items-start gap-3">
                        <Icons.Share2 />
                        <div>
                          <div className="font-bold text-green-800 mb-1">Thread IA pr√™t ! üöÄ</div>
                          <div className="text-sm text-green-700">G√©n√©r√© par intelligence artificielle, optimis√© pour l'engagement</div>
                        </div>
                      </div>
                    </div>
                  </div>
                ) : (
                  <div className="bg-white rounded-3xl p-12 shadow-2xl text-center">
                    <div className="w-24 h-24 bg-gradient-to-r from-purple-100 to-pink-100 rounded-full flex items-center justify-center mx-auto mb-6">
                      <Icons.MessageSquare />
                    </div>
                    <h3 className="text-2xl font-bold text-gray-800 mb-4">Ton thread IA appara√Ætra ici</h3>
                    <p className="text-gray-600 mb-6">L'intelligence artificielle va cr√©er un thread unique sur ton sujet</p>
                    <div className="grid grid-cols-2 gap-4 max-w-md mx-auto">
                      <div className="p-4 bg-purple-50 rounded-lg"><div className="text-3xl mb-2">ü§ñ</div><div className="text-sm font-semibold text-gray-700">IA puissante</div></div>
                      <div className="p-4 bg-pink-50 rounded-lg"><div className="text-3xl mb-2">‚ö°</div><div className="text-sm font-semibold text-gray-700">Ultra rapide</div></div>
                    </div>
                  </div>
                )}
              </div>
            </div>

            {showPaywall && (
              <div className="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50">
                <div className="bg-white rounded-3xl p-8 max-w-lg w-full shadow-2xl relative">
                  <button onClick={() => setShowPaywall(false)} className="absolute top-4 right-4 text-gray-400 hover:text-gray-600 text-2xl">‚úï</button>
                  <div className="text-center">
                    <div className="w-20 h-20 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-6">
                      <Icons.Crown />
                    </div>
                    <h3 className="text-3xl font-black mb-4">Passe en Premium</h3>
                    <p className="text-gray-600 mb-6">Tu as utilis√© tes 3 g√©n√©rations IA gratuites !</p>
                    <div className="bg-gradient-to-r from-purple-50 to-pink-50 rounded-2xl p-6 mb-6">
                      <div className="text-left space-y-3">
                        <div className="flex items-center gap-3"><Icons.Check /><span className="font-semibold">Threads IA illimit√©s</span></div>
                        <div className="flex items-center gap-3"><Icons.Check /><span className="font-semibold">G√©n√©ration instantan√©e</span></div>
                        <div className="flex items-center gap-3"><Icons.Check /><span className="font-semibold">Templates exclusifs</span></div>
                        <div className="flex items-center gap-3"><Icons.Check /><span className="font-semibold">Support prioritaire</span></div>
                      </div>
                    </div>
                    <div className="text-center mb-6">
                      <div className="text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-pink-600">9,99‚Ç¨/mois</div>
                      <div className="text-sm text-gray-500">Annule quand tu veux</div>
                    </div>
                    <button onClick={handleUpgrade} className="w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all transform hover:scale-105 mb-3">
                      üí≥ Payer avec Stripe
                    </button>
                    <button onClick={() => setShowPaywall(false)} className="w-full text-gray-500 hover:text-gray-700 font-semibold">Plus tard</button>
                    <p className="text-xs text-gray-400 mt-4">üîí Paiement s√©curis√© par Stripe</p>
                  </div>
                </div>
              </div>
            )}

            <div className="mt-12 text-center text-white/80 text-sm">
              <p>‚ú® VERSION 2 FINALE : IA r√©elle + Stripe int√©gr√© + Pr√™t pour le monde ! üåç</p>
            </div>
          </div>
        </div>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<ThreadGenius />);
  </script>
</body>
</html>
